<mat-card>
  <mat-card-header>
    <mat-card-title>{{phase | titlecase}} User</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="userForm" class="user-form">
      <input *ngIf="phase == 'edit'" type="hidden" [value]="id" readonly name="id">
      <mat-form-field class="example-full-width">
        <input matInput placeholder="Name" formControlName="name" required name="name">
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <input matInput placeholder="Surname" formControlName="surname" required name="surname">
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <input type="email" matInput placeholder="Email" [email]="true" formControlName="email" required name="email">
      </mat-form-field>
      <mat-form-field *ngIf="phase == 'new'" class="example-full-width">
        <input
          required
          minlength="5"
          matInput
          placeholder="Password"
          formControlName="password"
          [type]="hidePassword ? 'password' : 'text'"
          name="password">
        <mat-icon matSuffix (click)="togglePassword()">{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      </mat-form-field>
      <mat-form-field *ngIf="phase == 'new'" class="example-full-width">
        <input
          required
          pattern="{{userForm.controls.password.value}}"
          matInput
          placeholder="Confirm Password"
          formControlName="confirmPassword"
          [type]="hideCnfPassword ? 'password' : 'text'"
          name="confirmPassword">
        <mat-icon matSuffix (click)="toggleCnfPassword()">{{hideCnfPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <mat-select class="example-full-width" placeholder="Role" formControlName="role" required>
          <mat-option>--</mat-option>
          <mat-option *ngFor="let role of roles" [value]="role.value">
            {{role.text}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-slide-toggle
        required
        labelPosition="before"
        formControlName="active">
        Active
      </mat-slide-toggle>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button mat-stroked-button color="primary" (click)="save()" [disabled]="userForm.invalid">Save</button>
  </mat-card-actions>
</mat-card>


